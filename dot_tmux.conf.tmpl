# Truecolor support for Alacritty + WSL2
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:RGB"
set -as terminal-overrides ",alacritty:Tc"

set -g prefix C-a
unbind C-b
bind C-a send-prefix

set -g mouse on
set -g history-limit 50000

# Faster escape for Vim/Neovim
set -sg escape-time 0

# Start window/pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Status bar tweaks (simple)
set -g status-interval 60
set -g status-left "#[fg=green]#S#[default] "
set -g status-right "#[fg=yellow]%H:%M#[default]"

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

set-window-option -g mode-keys vi

# Pane navigation (your existing)
bind-key -r -T prefix k select-pane -U
bind-key -r -T prefix j select-pane -D
bind-key -r -T prefix h select-pane -L
bind-key -r -T prefix l select-pane -R

# Bonus: Resize panes with Ctrl+HJKL (hold prefix)
bind -r C-k resize-pane -U 5
bind -r C-j resize-pane -D 5
bind -r C-h resize-pane -L 5
bind -r C-l resize-pane -R 5

{{ if and .chezmoi.osRelease (eq .chezmoi.osRelease.id "ubuntu") "debian") -}}
source /usr/share/powerline/bindings/tmux/powerline.conf
{{- else if and .chezmoi.osRelease (eq .chezmoi.osRelease.id "fedora") -}}
source /usr/share/tmux/powerline.conf
{{- else if eq .chezmoi.os "darwin" -}}
run-shell "/Users/{{ .chezmoi.username }}/Library/Python/3.10/bin/powerline-daemon -q"
run-shell "/Users/{{ .chezmoi.username }}/Library/Python/3.10/bin/powerline-config tmux setup"
{{- end }}
